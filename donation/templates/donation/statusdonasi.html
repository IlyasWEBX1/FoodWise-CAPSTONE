{% extends "dashboard_base.html" %}
{% load static %}

{% block title %}Status Donasi{% endblock title %}
{% block header %}Status Donasi{% endblock header %}

{% block css %}
<link rel="stylesheet" href="{% static 'donation/css/statusdonasi.css' %}">
{% endblock css %}


{% block content %}
<!-- Konten Utama -->
<div>    
    <div class="status-container">
        {% comment %} 
        status:
        1. Menunggu Diambil
        2. Menunggu Disalurkan
        3. Telah Disalurkan
        4. Selesai(DB only, pindah ke riwayat)
        {% endcomment %}
        {% for transaction in transactions%}
        <div class="status-card 
            {% if transaction.status == 'Menunggu Diambil' %}status-belum
            {% elif transaction.status == 'Menunggu Disalurkan' %}status-sudah
            {% elif transaction.status == 'Telah Disalurkan' %}status-selesai
            {% endif %}">

            <div class='transaction-status'>{{ transaction.status }}</div>
            <p>{{ transaction.food_item.name_food }}</p>
            <p>{{ transaction.food_item.quantity }} Porsi</p>
            <p>{{ transaction.food_item.food_donor.location }}</p>
            <p>{{ transaction.donation_date }}</p>
            {% if transaction.status == 'Telah Disalurkan' %}
            <form action="{% url 'confirm_completion' transaction.id %}" method="post">
                {% csrf_token %}
                <button class="confirm-btn" type="submit">Konfirmasi Selesai</button>
            </form>
            {% endif %}
        </div>
        {% endfor %}       
    </div>
    {% endblock content %}
    